<section class="card-container">
  <mat-card appearance="outlined">
    @if(isWaiting())
    { <mat-progress-bar mode="indeterminate"></mat-progress-bar> }
    <mat-card-header>
      <mat-card-title>
        Collections
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        @for (collection of collections(); track collection) {
          <mat-list-item>
            <mat-icon matListItemIcon>folder</mat-icon>
            <h6 matListItemTitle>{{ collection.name }}</h6>
            <p matListItemLine>{{ collection.database }}, {{ collection.metadata }}</p>
            <a (click)="deleteCollection(collection.name)" class="delete-item">
              <mat-icon>delete</mat-icon>
            </a>
          </mat-list-item>
        }
     </mat-list>
    </mat-card-content>
    <mat-card-actions align="end">
      <button (click)="reset()" mat-stroked-button color="warn" [disabled]="isWaiting()">Reset store</button>
      <button (click)="fetchCollections()" mat-stroked-button color="primary">Get collections</button>
      <button (click)="loadDocs()" mat-stroked-button color="warn">Load from bucket</button>
    </mat-card-actions>
  </mat-card>
</section>